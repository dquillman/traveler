<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>{{ site_appearance.site_name|default:"Traveler" }}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css">
  <style>
    :root { --pri: {{ site_appearance.primary_color|default:"#0d6efd" }}; --fg:#e6edf3; --bg:#0b1220; --panel:#111827; --muted:#93a4b3; }
    html, body { height:100%; }
    body {
      margin:0; color:var(--fg); background:var(--bg);
      {% if site_background_url %}
      background-image: linear-gradient(rgba(0,0,0,.55), rgba(0,0,0,.55)), url('{{ site_background_url }}');
      background-size: cover; background-position:center; background-attachment:fixed;
      {% endif %}
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    .nav { display:flex; gap:16px; align-items:center; padding:12px 16px; background:#0f1621; border-bottom:1px solid #1f2630; }
    .nav a { color:var(--fg); text-decoration:none; opacity:.9 } .nav a:hover{opacity:1}
    .brand { font-weight:700; color:var(--pri); margin-right:20px; }
    .wrap { padding:20px; }
    .btn { display:inline-block; padding:8px 12px; background:var(--pri); color:white; border-radius:6px; text-decoration:none; }
    .btn-outline { border:1px solid var(--pri); color:var(--pri); background:transparent; border-radius:6px; padding:7px 11px; }
    .txt { width:100%; max-width:420px; padding:7px 9px; border:1px solid #2b3a4a; background:#0e1622; color:var(--fg); border-radius:6px; }
    table { border-collapse:collapse; width:100%; background:rgba(17,24,39,.75); backdrop-filter:blur(2px); }
    th,td { padding:10px 12px; border-bottom:1px solid #1f2937; vertical-align:middle; }
    th { text-align:left; color:#cbd5e1; background:#0f172a; position:sticky; top:0; }
    .muted { color:var(--muted); }
    .card { background:rgba(17,24,39,.8); padding:16px; border:1px solid #1f2937; border-radius:10px; }
    .actions a { margin-right:8px; color:#7dd3fc; }
    img.thumb { height:32px; width:auto; border-radius:6px; border:1px solid #1f2937; object-fit:cover; }
  </style>
  {% block head %}{% endblock %}
</head>
<body>
  <nav class="nav">
    <span class="brand">{{ site_appearance.site_name|default:"Traveler" }}</span>
    <a href="/">Home</a><a href="/map/">Map</a><a href="/charts/">Charts</a><a href="/appearance/">Appearance</a><a href="/import/">Import</a><a href="/export/">Export</a><a href="/admin/">Admin</a>
  </nav>
  <div class="wrap">
    {% if messages %}{% for m in messages %}<div class="card" style="margin-bottom:8px;">{{ m }}</div>{% endfor %}{% endif %}
    {% block content %}{% endblock %}
  </div>
</body>
</html>
