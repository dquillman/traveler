{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% block title %}Traveler{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="{% static 'css/site_dark_theme.css' %}">
  <!-- Leaflet styles (used by stay_list) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>.button.nav-active{outline:2px solid #60a5fa; background:#374151; color:#e5e7eb}</style>
  <style>.bt-nav ~ header, .bt-nav ~ nav { display: none !important; }</style>
</head>
<style>
  /* Hide any header/nav that appears after the sticky top bar */
  .bt-nav ~ header,
  .bt-nav ~ nav { display: none !important; }
</style>
<body>{% include 'partials/top_nav.html' %}

<!-- site navbar (auto-wired) -->

<main class="container" style="padding:16px;">
    {% block content %}{% endblock %}
  </main>

  <footer class="footer" style="padding:12px 16px; margin-top:20px;">
    <small>&copy; {{ now|date:"Y" }} Traveler</small>
  </footer>

  <!-- Leaflet script -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
          integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script id="NAV_ACTIVE_SCRIPT">
(function(){
  try{
    var p = location.pathname.replace(/\/+$/,''); // strip trailing slash
    var map = [
      {sel:"#site-navbar a[href='/']",               test:function(x){return p===""}},
      {sel:"#site-navbar a[href='/stays/']",        test:function(x){return p==="/stays"}},
      {sel:"#site-navbar a[href='/stays/add/']",    test:function(x){return p==="/stays/add"}},
      {sel:"#site-navbar a[href='/map/']",          test:function(x){return p==="/map"}},
      {sel:"#site-navbar a[href='/charts/']",       test:function(x){return p==="/charts"}},
      {sel:"#site-navbar a[href='/import/']",       test:function(x){return p==="/import"}},
      {sel:"#site-navbar a[href='/export/']",       test:function(x){return p==="/export"}},
      {sel:"#site-navbar a[href='/appearance/']",   test:function(x){return p==="/appearance"}},
      {sel:"#site-navbar a[href='/admin/']",        test:function(x){return p.indexOf('/admin')===0}}
    ];
    for(var i=0;i<map.length;i++){
      if(map[i].test(p)){
        var el = document.querySelector(map[i].sel);
        if(el){ el.classList.add('nav-active'); }
        break;
      }
    }
  }catch(e){}
})();
</script>
</body>
</html>


















